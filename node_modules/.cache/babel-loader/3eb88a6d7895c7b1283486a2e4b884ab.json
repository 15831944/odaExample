{"ast":null,"code":"var _jsxFileName = \"/Users/yutianjian/test/oda/src/viewer/ViewpointListComponent/ViewpointListComponent.js\";\nimport { Component } from \"react\";\nimport Window from \"../../components/Window\";\nimport { SubscribeSubjectContext } from \"../../utils/SubscribeSubjectContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultState = {\n  viewpoints: []\n};\nexport class ViewpointListComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...defaultState\n    };\n    this.eventsConnection = props.eventsConnection;\n    this.subscribeSubjectContext = new SubscribeSubjectContext();\n    this.subscribeSubjectContext.subscribe(this.eventsConnection.changeViewpoints, viewpoints => this.setState({\n      viewpoints\n    }));\n    this.subscribeSubjectContext.subscribe(this.eventsConnection.addViewpoint, viewpoint => this.setState({\n      viewpoints: this.state.viewpoints.concat([viewpoint])\n    }));\n    this.subscribeSubjectContext.subscribe(this.eventsConnection.modifyViewpoint, viewpoint => {\n      const index = this.state.viewpoints.findIndex(vp => vp.guid === viewpoint.guid);\n\n      if (index !== -1) {\n        this.state.viewpoints[index] = viewpoint;\n        this.setState({\n          viewpoints: [...this.state.viewpoints]\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.subscribeSubjectContext.unsubscribe();\n  }\n\n  onRemoveViewpoint(data, index) {\n    this.eventsConnection.onRemoveViewpoint.next(data);\n    this.setState({\n      viewpoints: this.state.viewpoints.filter((_, i) => i !== index)\n    });\n  }\n\n  render() {\n    const {\n      viewpoints\n    } = this.state;\n    const viewPointsListTemplate = viewpoints.map((data, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          borderRadius: \"0\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: data.snapshot ? data.snapshot : \"icons/default.svg\",\n          style: {\n            width: \"256px\",\n            height: \"192px\",\n            cursor: \"pointer\"\n          },\n          className: \"card-img-top\",\n          alt: \"...\",\n          onClick: () => this.eventsConnection.onSelectViewpoint.next(data)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          style: {\n            padding: \"0.1em\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            style: {\n              color: \"#05093B\",\n              align: \"center\"\n            },\n            className: \"card-title\",\n            children: [data.description, /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"icons/remove.svg\",\n              style: {\n                cursor: \"pointer\",\n                float: \"right\"\n              },\n              width: \"25px\",\n              height: \"25px\",\n              alt: \"...\",\n              onClick: () => this.onRemoveViewpoint(data, index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(Window, {\n      className: \"object-explorer\",\n      title: \"View points\",\n      onClose: () => {\n        this.eventsConnection.onClose.next();\n      },\n      children: viewPointsListTemplate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/yutianjian/test/oda/src/viewer/ViewpointListComponent/ViewpointListComponent.js"],"names":["Component","Window","SubscribeSubjectContext","defaultState","viewpoints","ViewpointListComponent","constructor","props","state","eventsConnection","subscribeSubjectContext","subscribe","changeViewpoints","setState","addViewpoint","viewpoint","concat","modifyViewpoint","index","findIndex","vp","guid","componentWillUnmount","unsubscribe","onRemoveViewpoint","data","next","filter","_","i","render","viewPointsListTemplate","map","borderRadius","snapshot","width","height","cursor","onSelectViewpoint","padding","color","align","description","float","onClose"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport Window from \"../../components/Window\";\nimport { SubscribeSubjectContext } from \"../../utils/SubscribeSubjectContext\";\n\nconst defaultState = {\n  viewpoints: [],\n};\n\nexport class ViewpointListComponent extends Component {\n  state = { ...defaultState };\n\n  constructor(props) {\n    super(props);\n    this.eventsConnection = props.eventsConnection;\n    this.subscribeSubjectContext = new SubscribeSubjectContext();\n\n    this.subscribeSubjectContext.subscribe(this.eventsConnection.changeViewpoints, (viewpoints) =>\n      this.setState({ viewpoints })\n    );\n\n    this.subscribeSubjectContext.subscribe(this.eventsConnection.addViewpoint, (viewpoint) =>\n      this.setState({ viewpoints: this.state.viewpoints.concat([viewpoint]) })\n    );\n\n    this.subscribeSubjectContext.subscribe(this.eventsConnection.modifyViewpoint, (viewpoint) => {\n      const index = this.state.viewpoints.findIndex((vp) => vp.guid === viewpoint.guid);\n      if (index !== -1) {\n        this.state.viewpoints[index] = viewpoint;\n        this.setState({ viewpoints: [...this.state.viewpoints] });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.subscribeSubjectContext.unsubscribe();\n  }\n\n  onRemoveViewpoint(data, index) {\n    this.eventsConnection.onRemoveViewpoint.next(data);\n    this.setState({\n      viewpoints: this.state.viewpoints.filter((_, i) => i !== index),\n    });\n  }\n\n  render() {\n    const { viewpoints } = this.state;\n\n    const viewPointsListTemplate = viewpoints.map((data, index) => {\n      return (\n        <div className=\"card\" key={index} style={{ borderRadius: \"0\" }}>\n          <img\n            src={data.snapshot ? data.snapshot : \"icons/default.svg\"}\n            style={{ width: \"256px\", height: \"192px\", cursor: \"pointer\" }}\n            className=\"card-img-top\"\n            alt=\"...\"\n            onClick={() => this.eventsConnection.onSelectViewpoint.next(data)}\n          ></img>\n\n          <div className=\"card-body\" style={{ padding: \"0.1em\" }}>\n            <h5 style={{ color: \"#05093B\", align: \"center\" }} className=\"card-title\">\n              {data.description}\n              <img\n                src=\"icons/remove.svg\"\n                style={{ cursor: \"pointer\", float: \"right\" }}\n                width=\"25px\"\n                height=\"25px\"\n                alt=\"...\"\n                onClick={() => this.onRemoveViewpoint(data, index)}\n              ></img>\n            </h5>\n          </div>\n        </div>\n      );\n    });\n\n    return (\n      <Window\n        className=\"object-explorer\"\n        title=\"View points\"\n        onClose={() => {\n          this.eventsConnection.onClose.next();\n        }}\n      >\n        {viewPointsListTemplate}\n      </Window>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}