{"ast":null,"code":"///////////////////////////////////////////////////////////////////////////////\n// Copyright (C) 2002-2021, Open Design Alliance (the \"Alliance\").\n// All rights reserved.\n//\n// This software and its documentation and related materials are owned by\n// the Alliance. The software may only be incorporated into application\n// programs owned by members of the Alliance, subject to a signed\n// Membership Agreement and Supplemental Software License Agreement with the\n// Alliance. The structure and organization of this software are the valuable\n// trade secrets of the Alliance and its suppliers. The software is also\n// protected by copyright law and international treaty provisions. Application\n// programs incorporating this software must include the following statement\n// with their copyright notices:\n//\n//   This application incorporates Open Design Alliance software pursuant to a\n//   license agreement with Open Design Alliance.\n//   Open Design Alliance Copyright (C) 2002-2021 by Open Design Alliance.\n//   All rights reserved.\n//\n// By use of this software, its documentation or related materials, you\n// acknowledge and accept the above terms.\n///////////////////////////////////////////////////////////////////////////////\nexport const TYPES = {\n  PROPERTIES_REQUEST: \"PROPERTIES_REQUEST\",\n  PROPERTIES_RESPONSE: \"PROPERTIES_RESPONSE\",\n  PROPERTIES_ERROR: \"PROPERTIES_ERROR\",\n  PROPERTIES_CLEAR: \"PROPERTIES_CLEAR\"\n};\nexport const actions = {\n  getProperties: (file, entity) => dispatch => {\n    dispatch({\n      type: TYPES.PROPERTIES_REQUEST\n    });\n    return Promise.resolve(file).then(file => file.getProperty(entity)).then(result => dispatch({\n      type: TYPES.PROPERTIES_RESPONSE,\n      payload: result\n    })).catch(err => {\n      dispatch({\n        type: TYPES.PROPERTIES_ERROR,\n        payload: err\n      });\n    });\n  },\n  clearProperties: () => dispatch => {\n    dispatch({\n      type: TYPES.PROPERTIES_CLEAR,\n      payload: null\n    });\n  }\n};\nexport const reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    current: {\n      loading: false,\n      error: null,\n      data: {}\n    }\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case TYPES.PROPERTIES_REQUEST:\n      return { ...state,\n        current: {\n          loading: true,\n          error: null,\n          data: null\n        }\n      };\n\n    case TYPES.PROPERTIES_RESPONSE:\n      return { ...state,\n        current: {\n          loading: false,\n          error: null,\n          data: action.payload\n        }\n      };\n\n    case TYPES.PROPERTIES_ERROR:\n      return { ...state,\n        current: {\n          loading: false,\n          error: action.payload,\n          data: null\n        }\n      };\n\n    case TYPES.PROPERTIES_CLEAR:\n      return { ...state,\n        current: {\n          loading: false,\n          error: null,\n          data: {}\n        }\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/yutianjian/test/oda/src/redux/properties.js"],"names":["TYPES","PROPERTIES_REQUEST","PROPERTIES_RESPONSE","PROPERTIES_ERROR","PROPERTIES_CLEAR","actions","getProperties","file","entity","dispatch","type","Promise","resolve","then","getProperty","result","payload","catch","err","clearProperties","reducer","state","current","loading","error","data","action"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,KAAK,GAAG;AACnBC,EAAAA,kBAAkB,EAAE,oBADD;AAEnBC,EAAAA,mBAAmB,EAAE,qBAFF;AAGnBC,EAAAA,gBAAgB,EAAE,kBAHC;AAInBC,EAAAA,gBAAgB,EAAE;AAJC,CAAd;AAOP,OAAO,MAAMC,OAAO,GAAG;AACrBC,EAAAA,aAAa,EAAE,CAACC,IAAD,EAAOC,MAAP,KAAmBC,QAAD,IAAc;AAC7CA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV,KAAK,CAACC;AAAd,KAAD,CAAR;AACA,WAAOU,OAAO,CAACC,OAAR,CAAgBL,IAAhB,EACJM,IADI,CACEN,IAAD,IAAUA,IAAI,CAACO,WAAL,CAAiBN,MAAjB,CADX,EAEJK,IAFI,CAEEE,MAAD,IAAYN,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV,KAAK,CAACE,mBAAd;AAAmCc,MAAAA,OAAO,EAAED;AAA5C,KAAD,CAFrB,EAGJE,KAHI,CAGGC,GAAD,IAAS;AACdT,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEV,KAAK,CAACG,gBAAd;AAAgCa,QAAAA,OAAO,EAAEE;AAAzC,OAAD,CAAR;AACD,KALI,CAAP;AAMD,GAToB;AAUrBC,EAAAA,eAAe,EAAE,MAAOV,QAAD,IAAc;AACnCA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV,KAAK,CAACI,gBAAd;AAAgCY,MAAAA,OAAO,EAAE;AAAzC,KAAD,CAAR;AACD;AAZoB,CAAhB;AAeP,OAAO,MAAMI,OAAO,GAAG,YASlB;AAAA,MARHC,KAQG,uEARK;AACNC,IAAAA,OAAO,EAAE;AACPC,MAAAA,OAAO,EAAE,KADF;AAEPC,MAAAA,KAAK,EAAE,IAFA;AAGPC,MAAAA,IAAI,EAAE;AAHC;AADH,GAQL;AAAA,MADHC,MACG;;AACH,UAAQA,MAAM,CAAChB,IAAf;AACE,SAAKV,KAAK,CAACC,kBAAX;AACE,aAAO,EAAE,GAAGoB,KAAL;AAAYC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,OAAO,EAAE,IAAX;AAAiBC,UAAAA,KAAK,EAAE,IAAxB;AAA8BC,UAAAA,IAAI,EAAE;AAApC;AAArB,OAAP;;AACF,SAAKzB,KAAK,CAACE,mBAAX;AACE,aAAO,EACL,GAAGmB,KADE;AAELC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,OAAO,EAAE,KAAX;AAAkBC,UAAAA,KAAK,EAAE,IAAzB;AAA+BC,UAAAA,IAAI,EAAEC,MAAM,CAACV;AAA5C;AAFJ,OAAP;;AAIF,SAAKhB,KAAK,CAACG,gBAAX;AACE,aAAO,EACL,GAAGkB,KADE;AAELC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,OAAO,EAAE,KAAX;AAAkBC,UAAAA,KAAK,EAAEE,MAAM,CAACV,OAAhC;AAAyCS,UAAAA,IAAI,EAAE;AAA/C;AAFJ,OAAP;;AAIF,SAAKzB,KAAK,CAACI,gBAAX;AACE,aAAO,EAAE,GAAGiB,KAAL;AAAYC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,OAAO,EAAE,KAAX;AAAkBC,UAAAA,KAAK,EAAE,IAAzB;AAA+BC,UAAAA,IAAI,EAAE;AAArC;AAArB,OAAP;;AAEF;AACE,aAAOJ,KAAP;AAjBJ;AAmBD,CA7BM","sourcesContent":["///////////////////////////////////////////////////////////////////////////////\n// Copyright (C) 2002-2021, Open Design Alliance (the \"Alliance\").\n// All rights reserved.\n//\n// This software and its documentation and related materials are owned by\n// the Alliance. The software may only be incorporated into application\n// programs owned by members of the Alliance, subject to a signed\n// Membership Agreement and Supplemental Software License Agreement with the\n// Alliance. The structure and organization of this software are the valuable\n// trade secrets of the Alliance and its suppliers. The software is also\n// protected by copyright law and international treaty provisions. Application\n// programs incorporating this software must include the following statement\n// with their copyright notices:\n//\n//   This application incorporates Open Design Alliance software pursuant to a\n//   license agreement with Open Design Alliance.\n//   Open Design Alliance Copyright (C) 2002-2021 by Open Design Alliance.\n//   All rights reserved.\n//\n// By use of this software, its documentation or related materials, you\n// acknowledge and accept the above terms.\n///////////////////////////////////////////////////////////////////////////////\nexport const TYPES = {\n  PROPERTIES_REQUEST: \"PROPERTIES_REQUEST\",\n  PROPERTIES_RESPONSE: \"PROPERTIES_RESPONSE\",\n  PROPERTIES_ERROR: \"PROPERTIES_ERROR\",\n  PROPERTIES_CLEAR: \"PROPERTIES_CLEAR\",\n};\n\nexport const actions = {\n  getProperties: (file, entity) => (dispatch) => {\n    dispatch({ type: TYPES.PROPERTIES_REQUEST });\n    return Promise.resolve(file)\n      .then((file) => file.getProperty(entity))\n      .then((result) => dispatch({ type: TYPES.PROPERTIES_RESPONSE, payload: result }))\n      .catch((err) => {\n        dispatch({ type: TYPES.PROPERTIES_ERROR, payload: err });\n      });\n  },\n  clearProperties: () => (dispatch) => {\n    dispatch({ type: TYPES.PROPERTIES_CLEAR, payload: null });\n  },\n};\n\nexport const reducer = (\n  state = {\n    current: {\n      loading: false,\n      error: null,\n      data: {},\n    },\n  },\n  action\n) => {\n  switch (action.type) {\n    case TYPES.PROPERTIES_REQUEST:\n      return { ...state, current: { loading: true, error: null, data: null } };\n    case TYPES.PROPERTIES_RESPONSE:\n      return {\n        ...state,\n        current: { loading: false, error: null, data: action.payload },\n      };\n    case TYPES.PROPERTIES_ERROR:\n      return {\n        ...state,\n        current: { loading: false, error: action.payload, data: null },\n      };\n    case TYPES.PROPERTIES_CLEAR:\n      return { ...state, current: { loading: false, error: null, data: {} } };\n\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}