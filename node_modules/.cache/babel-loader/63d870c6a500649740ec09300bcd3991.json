{"ast":null,"code":"var _jsxFileName = \"/Users/yutianjian/test/oda/src/containers/Main.js\";\n///////////////////////////////////////////////////////////////////////////////\n// Copyright (C) 2002-2021, Open Design Alliance (the \"Alliance\").\n// All rights reserved.\n//\n// This software and its documentation and related materials are owned by\n// the Alliance. The software may only be incorporated into application\n// programs owned by members of the Alliance, subject to a signed\n// Membership Agreement and Supplemental Software License Agreement with the\n// Alliance. The structure and organization of this software are the valuable\n// trade secrets of the Alliance and its suppliers. The software is also\n// protected by copyright law and international treaty provisions. Application\n// programs incorporating this software must include the following statement\n// with their copyright notices:\n//\n//   This application incorporates Open Design Alliance software pursuant to a\n//   license agreement with Open Design Alliance.\n//   Open Design Alliance Copyright (C) 2002-2021 by Open Design Alliance.\n//   All rights reserved.\n//\n// By use of this software, its documentation or related materials, you\n// acknowledge and accept the above terms.\n///////////////////////////////////////////////////////////////////////////////\nimport React, { Component } from \"react\";\nimport ViewerPage from \"./../viewer/ViewerPage\";\nimport Notifications from \"./Notifications\";\nimport { HashRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport RegisterPage from \"./RegisterPage\";\nimport LoginPage from \"./LoginPage\";\nimport { connect } from \"react-redux\";\nimport { actions as config } from \"../redux/config\";\nimport UserMenu from \"./UserMenu\";\nimport Header from \"../components/Header\";\nimport { Layout } from \"antd\";\nimport SideNavigateMenuAnt from \"./SideNavigateMenuAnt\";\nimport AssembliesListComponent from \"./AssembliesListComponent/AssembliesListComponent\";\nimport { OptionComponent } from \"./OptionComponent\";\nimport JobsComponent from \"./JobsComponent/JobsComponent\";\nimport FilesListComponent from \"./FilesListComponent/FilesListComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Content\n} = Layout;\n\nclass Main extends Component {\n  componentDidMount() {\n    this.props.loadConfig();\n  }\n\n  render() {\n    if (!this.props.loaded) {\n      return null;\n    }\n\n    const user = this.props.login.data;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(HashRouter, {\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(PublicRoute, {\n            path: \"/login\",\n            fallback: \"/\",\n            user: user,\n            children: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PublicRoute, {\n            path: \"/register\",\n            fallback: \"/\",\n            user: user,\n            children: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            path: \"/file/:fileId\",\n            fallback: \"/login\",\n            user: user,\n            children: /*#__PURE__*/_jsxDEV(ViewerPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            path: \"/assembly/:assemblyId\",\n            fallback: \"/login\",\n            user: user,\n            children: /*#__PURE__*/_jsxDEV(ViewerPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            exact: true,\n            path: \"*\",\n            fallback: \"/login\",\n            user: user,\n            children: [/*#__PURE__*/_jsxDEV(Header, {\n              children: /*#__PURE__*/_jsxDEV(UserMenu, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Layout, {\n              style: {\n                background: \"white\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(SideNavigateMenuAnt, {\n                active: \"Files\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Content, {\n                children: [/*#__PURE__*/_jsxDEV(PrivateRoute, {\n                  exact: true,\n                  path: \"/jobs\",\n                  fallback: \"/login\",\n                  user: user,\n                  children: /*#__PURE__*/_jsxDEV(JobsComponent, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                  exact: true,\n                  path: \"/assemblies\",\n                  fallback: \"/login\",\n                  user: user,\n                  children: /*#__PURE__*/_jsxDEV(AssembliesListComponent, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                  exact: true,\n                  path: \"/settings\",\n                  fallback: \"/login\",\n                  user: user,\n                  children: /*#__PURE__*/_jsxDEV(OptionComponent, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n                  exact: true,\n                  path: \"/\",\n                  fallback: \"/login\",\n                  user: user,\n                  children: /*#__PURE__*/_jsxDEV(FilesListComponent, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n            from: \"*\",\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Notifications, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nfunction PublicRoute(_ref) {\n  let {\n    path,\n    fallback,\n    user,\n    exact,\n    children\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(Route, {\n    path: path,\n    exact: exact,\n    render: _ref2 => {\n      let {\n        location\n      } = _ref2;\n\n      if (user) {\n        if (location.state && location.state.from) {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: {\n              pathname: location.state.from.pathname\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 20\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: fallback\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 20\n          }, this);\n        }\n      } else {\n        return children;\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n\n_c = PublicRoute;\n\nfunction PrivateRoute(_ref3) {\n  let {\n    path,\n    fallback,\n    user,\n    exact,\n    children\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(Route, {\n    push: true,\n    exact: exact,\n    path: path,\n    render: _ref4 => {\n      let {\n        location\n      } = _ref4;\n\n      if (!user) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: {\n            pathname: fallback,\n            state: {\n              from: location\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 18\n        }, this);\n      } else {\n        return children;\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = PrivateRoute;\nexport default connect(state => ({\n  login: state.login,\n  loaded: state.config.data\n}), dispatch => ({\n  loadConfig: () => dispatch(config.loadConfig())\n}))(Main);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PublicRoute\");\n$RefreshReg$(_c2, \"PrivateRoute\");","map":{"version":3,"sources":["/Users/yutianjian/test/oda/src/containers/Main.js"],"names":["React","Component","ViewerPage","Notifications","HashRouter","Switch","Route","Redirect","RegisterPage","LoginPage","connect","actions","config","UserMenu","Header","Layout","SideNavigateMenuAnt","AssembliesListComponent","OptionComponent","JobsComponent","FilesListComponent","Content","Main","componentDidMount","props","loadConfig","render","loaded","user","login","data","background","PublicRoute","path","fallback","exact","children","location","state","from","pathname","PrivateRoute","dispatch"],"mappings":"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","sourcesContent":["///////////////////////////////////////////////////////////////////////////////\n// Copyright (C) 2002-2021, Open Design Alliance (the \"Alliance\").\n// All rights reserved.\n//\n// This software and its documentation and related materials are owned by\n// the Alliance. The software may only be incorporated into application\n// programs owned by members of the Alliance, subject to a signed\n// Membership Agreement and Supplemental Software License Agreement with the\n// Alliance. The structure and organization of this software are the valuable\n// trade secrets of the Alliance and its suppliers. The software is also\n// protected by copyright law and international treaty provisions. Application\n// programs incorporating this software must include the following statement\n// with their copyright notices:\n//\n//   This application incorporates Open Design Alliance software pursuant to a\n//   license agreement with Open Design Alliance.\n//   Open Design Alliance Copyright (C) 2002-2021 by Open Design Alliance.\n//   All rights reserved.\n//\n// By use of this software, its documentation or related materials, you\n// acknowledge and accept the above terms.\n///////////////////////////////////////////////////////////////////////////////\nimport React, { Component } from \"react\";\nimport ViewerPage from \"./../viewer/ViewerPage\";\nimport Notifications from \"./Notifications\";\nimport { HashRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport RegisterPage from \"./RegisterPage\";\nimport LoginPage from \"./LoginPage\";\nimport { connect } from \"react-redux\";\nimport { actions as config } from \"../redux/config\";\nimport UserMenu from \"./UserMenu\";\nimport Header from \"../components/Header\";\n\nimport { Layout } from \"antd\";\n\nimport SideNavigateMenuAnt from \"./SideNavigateMenuAnt\";\nimport AssembliesListComponent from \"./AssembliesListComponent/AssembliesListComponent\";\nimport { OptionComponent } from \"./OptionComponent\";\nimport JobsComponent from \"./JobsComponent/JobsComponent\";\nimport FilesListComponent from \"./FilesListComponent/FilesListComponent\";\n\nconst { Content } = Layout;\n\nclass Main extends Component {\n  componentDidMount() {\n    this.props.loadConfig();\n  }\n\n  render() {\n    if (!this.props.loaded) {\n      return null;\n    }\n\n    const user = this.props.login.data;\n\n    return (\n      <>\n        <HashRouter>\n          <Switch>\n            <PublicRoute path=\"/login\" fallback=\"/\" user={user}>\n              <LoginPage />\n            </PublicRoute>\n            <PublicRoute path=\"/register\" fallback=\"/\" user={user}>\n              <RegisterPage />\n            </PublicRoute>\n            <PrivateRoute path=\"/file/:fileId\" fallback=\"/login\" user={user}>\n              <ViewerPage />\n            </PrivateRoute>\n            <PrivateRoute path=\"/assembly/:assemblyId\" fallback=\"/login\" user={user}>\n              <ViewerPage />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"*\" fallback=\"/login\" user={user}>\n              <Header>\n                <UserMenu></UserMenu>\n              </Header>\n              <Layout style={{ background: \"white\" }}>\n                <SideNavigateMenuAnt active=\"Files\"></SideNavigateMenuAnt>\n                <Content>\n                  <PrivateRoute exact path=\"/jobs\" fallback=\"/login\" user={user}>\n                    <JobsComponent></JobsComponent>\n                  </PrivateRoute>\n                  <PrivateRoute exact path=\"/assemblies\" fallback=\"/login\" user={user}>\n                    <AssembliesListComponent></AssembliesListComponent>\n                  </PrivateRoute>\n                  <PrivateRoute exact path=\"/settings\" fallback=\"/login\" user={user}>\n                    <OptionComponent></OptionComponent>\n                  </PrivateRoute>\n                  <PrivateRoute exact path=\"/\" fallback=\"/login\" user={user}>\n                    <FilesListComponent></FilesListComponent>\n                  </PrivateRoute>\n                </Content>\n              </Layout>\n            </PrivateRoute>\n            <Redirect from=\"*\" to=\"/\" />\n          </Switch>\n        </HashRouter>\n        <Notifications />\n      </>\n    );\n  }\n}\n\nfunction PublicRoute({ path, fallback, user, exact, children }) {\n  return (\n    <Route\n      path={path}\n      exact={exact}\n      render={({ location }) => {\n        if (user) {\n          if (location.state && location.state.from) {\n            return <Redirect to={{ pathname: location.state.from.pathname }} />;\n          } else {\n            return <Redirect to={fallback} />;\n          }\n        } else {\n          return children;\n        }\n      }}\n    />\n  );\n}\n\nfunction PrivateRoute({ path, fallback, user, exact, children }) {\n  return (\n    <Route\n      push\n      exact={exact}\n      path={path}\n      render={({ location }) => {\n        if (!user) {\n          return <Redirect to={{ pathname: fallback, state: { from: location } }} />;\n        } else {\n          return children;\n        }\n      }}\n    />\n  );\n}\n\nexport default connect(\n  (state) => ({\n    login: state.login,\n    loaded: state.config.data,\n  }),\n  (dispatch) => ({\n    loadConfig: () => dispatch(config.loadConfig()),\n  })\n)(Main);\n"]},"metadata":{},"sourceType":"module"}