{"ast":null,"code":"var _jsxFileName = \"/Users/yutianjian/test/oda/src/components/CreateAssembly.js\";\n///////////////////////////////////////////////////////////////////////////////\n// Copyright (C) 2002-2021, Open Design Alliance (the \"Alliance\").\n// All rights reserved.\n//\n// This software and its documentation and related materials are owned by\n// the Alliance. The software may only be incorporated into application\n// programs owned by members of the Alliance, subject to a signed\n// Membership Agreement and Supplemental Software License Agreement with the\n// Alliance. The structure and organization of this software are the valuable\n// trade secrets of the Alliance and its suppliers. The software is also\n// protected by copyright law and international treaty provisions. Application\n// programs incorporating this software must include the following statement\n// with their copyright notices:\n//\n//   This application incorporates Open Design Alliance software pursuant to a\n//   license agreement with Open Design Alliance.\n//   Open Design Alliance Copyright (C) 2002-2021 by Open Design Alliance.\n//   All rights reserved.\n//\n// By use of this software, its documentation or related materials, you\n// acknowledge and accept the above terms.\n///////////////////////////////////////////////////////////////////////////////\nimport React, { Component } from \"react\";\nimport Window from \"./Window\";\nimport ClientFactory from \"./../ClientFactory\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CreateAssembly extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: [],\n      isValid: true\n    };\n    this.windowStyle = {\n      left: \"calc(50% - 300px)\",\n      top: \"calc(50% - 275px)\",\n      width: \"600px\",\n      height: \"550px\"\n    };\n    this.title = \"Create new assembly\";\n\n    this.onRemove = index => {\n      this.setState({\n        files: this.state.files.filter((_, i) => i !== index)\n      });\n    };\n\n    this.onSubmit = () => {\n      if (this.nameInput.current.value === \"\") {\n        this.setState({\n          isValid: false\n        });\n      } else {\n        this.props.onResolve(this.nameInput.current.value, this.state.files);\n      }\n    };\n\n    this.nameInput = /*#__PURE__*/React.createRef();\n  }\n\n  async componentDidMount() {\n    const files = await ClientFactory.get().getFileList(0, this.props.files.length, null, null, this.props.files);\n    this.setState({\n      files: files.list\n    });\n  }\n\n  render() {\n    const filesList = this.state.files.map((file, index) => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item\",\n        children: [file.name, this.state.files.length > 2 ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons\",\n          style: {\n            cursor: \"pointer\",\n            float: \"right\"\n          },\n          onClick: () => this.onRemove(index),\n          children: \"close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this) : null]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(Window, {\n      className: \"object-explorer\",\n      title: this.title,\n      resizable: false,\n      style: this.windowStyle,\n      onClose: this.props.onCloseHandler,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"5px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"10px\",\n            height: \"90px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"input-name-assembly\",\n            className: \"form-label\",\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: this.state.isValid ? \"form-control\" : \"form-control is-invalid\",\n            id: \"input-name-assembly\",\n            ref: this.nameInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: \"Please choose a assembly name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Files:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-row justify-content-center\",\n          style: {\n            height: \"270px\",\n            overflowY: \"auto\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-group\",\n            style: {\n              width: \"100%\",\n              padding: \"0\"\n            },\n            children: filesList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-row justify-content-center\",\n          style: {\n            padding: \"10px\",\n            color: \"#05093B\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-default button-upload-file d-flex align-items-center\",\n            style: {\n              paddingLeft: \"20px\",\n              paddingRight: \"20px\"\n            },\n            onClick: this.onSubmit,\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default CreateAssembly;","map":{"version":3,"sources":["/Users/yutianjian/test/oda/src/components/CreateAssembly.js"],"names":["React","Component","Window","ClientFactory","CreateAssembly","constructor","props","state","files","isValid","windowStyle","left","top","width","height","title","onRemove","index","setState","filter","_","i","onSubmit","nameInput","current","value","onResolve","createRef","componentDidMount","get","getFileList","length","list","render","filesList","map","file","name","cursor","float","onCloseHandler","padding","marginBottom","overflowY","color","paddingLeft","paddingRight"],"mappings":"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","sourcesContent":["///////////////////////////////////////////////////////////////////////////////\n// Copyright (C) 2002-2021, Open Design Alliance (the \"Alliance\").\n// All rights reserved.\n//\n// This software and its documentation and related materials are owned by\n// the Alliance. The software may only be incorporated into application\n// programs owned by members of the Alliance, subject to a signed\n// Membership Agreement and Supplemental Software License Agreement with the\n// Alliance. The structure and organization of this software are the valuable\n// trade secrets of the Alliance and its suppliers. The software is also\n// protected by copyright law and international treaty provisions. Application\n// programs incorporating this software must include the following statement\n// with their copyright notices:\n//\n//   This application incorporates Open Design Alliance software pursuant to a\n//   license agreement with Open Design Alliance.\n//   Open Design Alliance Copyright (C) 2002-2021 by Open Design Alliance.\n//   All rights reserved.\n//\n// By use of this software, its documentation or related materials, you\n// acknowledge and accept the above terms.\n///////////////////////////////////////////////////////////////////////////////\nimport React, { Component } from \"react\";\nimport Window from \"./Window\";\n\nimport ClientFactory from \"./../ClientFactory\";\n\nclass CreateAssembly extends Component {\n  state = {\n    files: [],\n    isValid: true,\n  };\n\n  windowStyle = {\n    left: \"calc(50% - 300px)\",\n    top: \"calc(50% - 275px)\",\n    width: \"600px\",\n    height: \"550px\",\n  };\n\n  title = \"Create new assembly\";\n\n  constructor(props) {\n    super(props);\n    this.nameInput = React.createRef();\n  }\n\n  async componentDidMount() {\n    const files = await ClientFactory.get().getFileList(0, this.props.files.length, null, null, this.props.files);\n    this.setState({ files: files.list });\n  }\n\n  onRemove = (index) => {\n    this.setState({\n      files: this.state.files.filter((_, i) => i !== index),\n    });\n  };\n\n  onSubmit = () => {\n    if (this.nameInput.current.value === \"\") {\n      this.setState({ isValid: false });\n    } else {\n      this.props.onResolve(this.nameInput.current.value, this.state.files);\n    }\n  };\n\n  render() {\n    const filesList = this.state.files.map((file, index) => {\n      return (\n        <li className=\"list-group-item\" key={index}>\n          {file.name}\n          {this.state.files.length > 2 ? (\n            <span\n              className=\"material-icons\"\n              style={{ cursor: \"pointer\", float: \"right\" }}\n              onClick={() => this.onRemove(index)}\n            >\n              close\n            </span>\n          ) : null}\n        </li>\n      );\n    });\n\n    return (\n      <Window\n        className=\"object-explorer\"\n        title={this.title}\n        resizable={false}\n        style={this.windowStyle}\n        onClose={this.props.onCloseHandler}\n      >\n        <div style={{ padding: \"5px\" }}>\n          <div style={{ marginBottom: \"10px\", height: \"90px\" }}>\n            <label htmlFor=\"input-name-assembly\" className=\"form-label\">\n              Name:\n            </label>\n            <input\n              type=\"text\"\n              className={this.state.isValid ? \"form-control\" : \"form-control is-invalid\"}\n              id=\"input-name-assembly\"\n              ref={this.nameInput}\n            />\n            <div className=\"invalid-feedback\">Please choose a assembly name</div>\n          </div>\n\n          <div>Files:</div>\n\n          <div className=\"d-flex flex-row justify-content-center\" style={{ height: \"270px\", overflowY: \"auto\" }}>\n            <ul className=\"list-group\" style={{ width: \"100%\", padding: \"0\" }}>\n              {filesList}\n            </ul>\n          </div>\n\n          <div className=\"d-flex flex-row justify-content-center\" style={{ padding: \"10px\", color: \"#05093B\" }}>\n            <button\n              type=\"button\"\n              className=\"btn btn-default button-upload-file d-flex align-items-center\"\n              style={{ paddingLeft: \"20px\", paddingRight: \"20px\" }}\n              onClick={this.onSubmit}\n            >\n              Create\n            </button>\n          </div>\n        </div>\n      </Window>\n    );\n  }\n}\n\nexport default CreateAssembly;\n"]},"metadata":{},"sourceType":"module"}